(function(t){function e(e){for(var i,a,o=e[0],c=e[1],l=e[2],h=0,d=[];h<o.length;h++)a=o[h],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(i=!1)}i&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},s={app:0},r=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/music/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0d3d":function(t,e,n){},1863:function(t,e,n){},"1d13":function(t,e,n){},"1e02":function(t,e,n){},"2a3c":function(t,e,n){"use strict";var i=n("1e02"),s=n.n(i);s.a},"30b6":function(t,e,n){},3940:function(t,e,n){"use strict";var i=n("0d3d"),s=n.n(i);s.a},"42a4":function(t,e,n){"use strict";var i=n("5ccb"),s=n.n(i);s.a},"4abe":function(t,e,n){"use strict";var i=n("bbf7"),s=n.n(i);s.a},5354:function(t,e,n){"use strict";var i=n("722d"),s=n.n(i);s.a},"56d7":function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"selectPlay",(function(){return Rn}));var s={};n.r(s),n.d(s,"disc",(function(){return Un})),n.d(s,"playerIconColor",(function(){return Bn})),n.d(s,"fullScreen",(function(){return Dn})),n.d(s,"currentIndex",(function(){return Mn})),n.d(s,"currentSong",(function(){return Yn})),n.d(s,"playing",(function(){return Fn})),n.d(s,"playlist",(function(){return Vn})),n.d(s,"mode",(function(){return Hn})),n.d(s,"searchBoxFocue",(function(){return zn}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("keep-alive",[n("router-view")],1),n("Player"),n("Nav")],1)},o=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"m-input"},[n("div",{staticClass:"inputcover",class:t.searchBoxFocue?"focus":""},[n("i",{staticClass:"u-svg u-svg-srch"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"input",attrs:{type:"text",name:"search",placeholder:"搜索歌曲如：周杰伦/晴天",autocomplete:"off"},domProps:{value:t.searchValue},on:{focus:t.focus,input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),n("figure",{directives:[{name:"show",rawName:"v-show",value:t.searchValue.length>0,expression:"searchValue.length > 0"}],staticClass:"close",on:{click:t.cancelText}},[n("i",{staticClass:"u-svg u-svg-empty"})])]),n("transition",{attrs:{appear:"",name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.searchBoxFocue,expression:"searchBoxFocue"}],staticClass:"cancel",on:{click:t.cancel}},[t._v(" 取消 ")])])],1),n("transition",{attrs:{appear:"",name:"slideFadeIn"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.searchBoxFocue,expression:"searchBoxFocue"}],staticClass:"search-box-wrapper"},[n("div",{directives:[{name:"show",rawName:"v-show",value:""===t.searchValue,expression:"searchValue === ''"}],staticClass:"hot-words"},[n("h3",[t._v("热搜排行")]),n("ul",{staticClass:"words-list"},t._l(t.hotWords,(function(e,i){return n("li",{key:i,class:t.highlightColor(i),on:{click:function(n){return t.quickSelect(e)}}},[n("span",{staticClass:"num"},[t._v(t._s(i+1))]),n("div",{staticClass:"name"},[t._v(" "+t._s(e)+" ")])])})),0)]),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.searchResult.length>0&&t.searchValue,expression:"searchResult.length > 0 && searchValue"}],staticClass:"search-result-List"},[n("SongList",{attrs:{list:t.searchResult}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingState,expression:"loadingState"}],staticClass:"loading"},[n("Loading",{attrs:{playerIconColor:"red"}})],1)])])],1)},l=[],u=(n("a4d3"),n("4de4"),n("4160"),n("a434"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("96cf"),n("1da1")),h=n("ade3"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("span",{staticClass:"line1",class:t.iconColor}),n("span",{staticClass:"line2",class:t.iconColor}),n("span",{staticClass:"line3",class:t.iconColor}),n("span",{staticClass:"line4",class:t.iconColor})])},f=[],p={props:{playerIconColor:{type:String}},computed:{iconColor:function(){return"black"===this.playerIconColor?"black":"red"===this.playerIconColor?"red":"white"===this.playerIconColor?"white":""}}},g=p,v=(n("b559"),n("2877")),m=Object(v["a"])(g,d,f,!1,null,"03267548",null),y=m.exports,b=n("2f62"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{staticClass:"list"},t._l(t.list,(function(e,i){return n("li",{key:e.id,on:{click:function(e){return t.selectSongItem(i)}}},[n("div",{staticClass:"num"},[t._v(t._s(i+1))]),n("div",{staticClass:"song-box"},[n("h2",[t._v(t._s(e.name))]),n("h3",[e.artists.length>0?n("span",[t._v(t._s(e.artists[0].name)+"-")]):t._e(),t._v(t._s(e.album.name))])])])})),0)])},_=[],C=(n("b0c0"),n("a15b"),n("d4ec")),O=function t(e){var n=e.id,i=e.cid,s=e.singer,r=e.name,a=e.image,o=e.url;Object(C["a"])(this,t),this.id=n,this.cid=i,this.singer=s,this.name=r,this.image=a,this.url=o};function S(t,e,n,i,s,r){return new O({id:t,cid:e,singer:n,name:i,image:s,url:r})}function x(t){var e=[];return t?(t.forEach((function(t){e.push(t.name)})),e.join("/")):""}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){Object(h["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var E={props:{list:{type:Array}},created:function(){},methods:P({selectSongItem:function(t){var e=[];this.list.forEach((function(t){e.push(S(t.id,t.cid,x(t.singerName),t.name,null,null))})),this.selectPlay({list:e,index:t})}},Object(b["b"])({selectPlay:"selectPlay"}))},T=E,I=(n("7688"),Object(v["a"])(T,w,_,!1,null,"811ba958",null)),L=I.exports,k=(n("99af"),n("bc3a")),$=n.n(k),N=(n("d3b7"),"http://175.24.131.201:3400");function R(){return $()({url:"".concat(N,"/new/songs")})}function A(){return $()({url:"".concat(N,"/recommend/playlist")})}function U(){return $()({url:"".concat(N,"/new/hotwords")})}function B(t){return $()({url:"".concat(N,"/search?keyword=").concat(t)})}$.a.defaults.timeout=1e4,$.a.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)}));n("fb6a"),n("ac1f"),n("466d");function D(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function M(t){for(var e=t.slice(),n=0;n<e.length;n++){var i=D(0,n),s=e[n];e[n]=e[i],e[i]=s}return e}function Y(t,e){var n;return function(){for(var i=this,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];n&&clearTimeout(n),n=setTimeout((function(){t.apply(i,r)}),e)}}function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){Object(h["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var H={computed:V({},Object(b["c"])(["searchBoxFocue"])),created:function(){var t=this;this.getHotWords(),this.$watch("searchValue",Y((function(e){""!==e&&t.getSearchResult()}),200))},data:function(){return{searchValue:"",loadingState:!1,hotWords:[],searchResult:[]}},watch:{},methods:V({},Object(b["d"])({SET_SEARCHBOX_FOCUS:"SET_SEARCHBOX_FOCUS"}),{getSearchResult:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loadingState=!0,t.next=4,B(this.searchValue);case 4:e=t.sent,this.loadingState=!1,this.searchResult=e.data.data.list.splice(0,8),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),this.loadingState=!1,console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),getHotWords:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,U();case 2:e=t.sent,this.hotWords=e.data.data.total.list;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),focus:function(){this.SET_SEARCHBOX_FOCUS(!0)},cancel:function(){this.searchValue="",this.SET_SEARCHBOX_FOCUS(!1)},cancelText:function(){this.searchValue=""},highlightColor:function(t){return t<=3?"highlightColor":null},quickSelect:function(t){this.searchValue=t}}),components:{Loading:y,SongList:L}},z=H,X=(n("c6a8"),Object(v["a"])(z,c,l,!1,null,"50fff413",null)),W=X.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player-box"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.searchBoxFocue,expression:"!searchBoxFocue"}],staticClass:"mini-playerricon",on:{click:t.open}},[n("MusicAnimation")],1),n("transition",{attrs:{appear:"",name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.fullScreen,expression:"fullScreen"}],staticClass:"player"},[n("div",{staticClass:"nav"},[n("div",{staticClass:"back",on:{click:t.back}},[n("i",{staticClass:"iconfont iconfanhui"})]),n("div",{staticClass:"nav-text"},[t._v(t._s(t.currentSong.name))])]),n("div",{staticClass:"normal-player"},[n("div",{staticClass:"background"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.currentSong.image,expression:"currentSong.image"}],attrs:{src:t.currentSong.image,alt:"",width:"100%",height:"100%"}})]),n("div",{staticClass:"middle"},[n("div",{staticClass:"cd-wrapper"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.currentSong.image,expression:"currentSong.image"}],attrs:{src:t.currentSong.image,alt:""}})])]),n("div",{staticClass:"bottom"},[n("div",{staticClass:"progress-wrapper"},[n("span",{staticClass:"time time-l"},[t._v(t._s(t.format(t.currentTime)))]),n("div",{staticClass:"progress-bar-wrapper"},[n("ProgressBar",{attrs:{percent:t.percent,songReady:t.songReady},on:{percentChange:t.onProgressBarChange,percentChanging:t.onProgressBarChanging}})],1),n("span",{staticClass:"time time-r"},[t._v(t._s(t.format(t.duration)))])]),n("div",{staticClass:"operators"},[n("div",{staticClass:"icon i-left"},[n("i",{staticClass:"iconfont iconshangyishoushangyige",on:{click:t.prev}})]),n("div",{staticClass:"icon i-center"},[n("i",{directives:[{name:"show",rawName:"v-show",value:!t.playing,expression:"!playing"}],staticClass:"iconfont iconziyuan",on:{click:function(e){return t.togglePlaying(!0)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:t.playing,expression:"playing"}],staticClass:"iconfont iconzanting",on:{click:function(e){return t.togglePlaying(!1)}}})]),n("div",{staticClass:"icon i-right"},[n("i",{staticClass:"iconfont icon49xiayishou",on:{click:t.next}})])])])])])]),n("audio",{ref:"audio",on:{playing:t.ready,error:t.error,timeupdate:t.updateTime,ended:t.end,pause:t.paused}})],1)},G=[],J=(n("25f0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.searchBoxFocue},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.playing,expression:"playing"}],staticClass:"wrapper"},[n("span",{staticClass:"line1",class:t.iconColor}),n("span",{staticClass:"line2",class:t.iconColor}),n("span",{staticClass:"line3",class:t.iconColor}),n("span",{staticClass:"line4",class:t.iconColor})]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.playing,expression:"!playing"}],staticClass:"wrapper static"},[n("span",{staticClass:"line1",class:t.iconColor}),n("span",{staticClass:"line2",class:t.iconColor}),n("span",{staticClass:"line3",class:t.iconColor}),n("span",{staticClass:"line4",class:t.iconColor})])])}),Q=[];function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){Object(h["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var tt={computed:K({iconColor:function(){return"black"===this.playerIconColor?"black":"white"}},Object(b["c"])(["playerIconColor","playing","searchBoxFocue"])),methods:K({},Object(b["d"])({SET_PLAY_ICON_COLOR:"SET_PLAY_ICON_COLOR"}))},et=tt,nt=(n("c2cd"),Object(v["a"])(et,J,Q,!1,null,"39f09fe6",null)),it=nt.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"progressBar",staticClass:"progress-bar",on:{click:t.progressClick}},[n("div",{staticClass:"bar-inner"},[n("div",{ref:"progress",staticClass:"progress"}),n("div",{ref:"progressBtn",staticClass:"progress-btn-wrapper",on:{touchstart:function(e){return e.preventDefault(),t.progressTouchStart(e)},touchmove:function(e){return e.preventDefault(),t.progressTouchMove(e)},touchend:t.progressTouchEnd}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.songReady,expression:"songReady"}],staticClass:"progress-btn"}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.songReady,expression:"!songReady"}],staticClass:"loading"},[t._m(0)])])])])},rt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader"},[n("div",{staticClass:"face"},[n("div",{staticClass:"circle"})])])}];n("a9e3"),n("4d63"),n("1276");function at(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return n.test(t.className)}function ot(t,e){if(!at(t,e)){var n=t.className.split(" ");n.push(e),t.className=n.join(" ")}}function ct(t,e,n){var i="data-";return e=i+e,n?t.setAttribute(e,n):t.getAttribute(e)}var lt=document.createElement("div").style,ut=function(){var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var e in t)if(void 0!==lt[t[e]])return e;return!1}();function ht(t){return!1!==ut&&("standard"===ut?t:ut+t.charAt(0).toUpperCase()+t.substr(1))}var dt=16,ft=ht("transform"),pt={props:{percent:{type:Number,default:0},songReady:{type:Boolean}},created:function(){this.touch={}},methods:{progressTouchStart:function(t){this.touch.initiated=!0,this.touch.startX=t.touches[0].pageX,this.touch.left=this.$refs.progress.clientWidth},progressTouchMove:function(t){if(this.touch.initiated){var e=t.touches[0].pageX-this.touch.startX,n=Math.min(this.$refs.progressBar.clientWidth-dt,Math.max(0,this.touch.left+e));this._offset(n),this.$emit("percentChanging",this._getPercent())}},progressTouchEnd:function(){this.touch.initiated=!1,this._triggerPercent()},progressClick:function(t){var e=this.$refs.progressBar.getBoundingClientRect(),n=t.pageX-e.left;this._offset(n),this._triggerPercent()},setProgressOffset:function(t){if(t>=0&&!this.touch.initiated){var e=this.$refs.progressBar.clientWidth-dt,n=t*e;this._offset(n)}},_triggerPercent:function(){this.$emit("percentChange",this._getPercent())},_offset:function(t){this.$refs.progress.style.width="".concat(t,"px"),this.$refs.progressBtn.style[ft]="translate3d(".concat(t,"px,0,0)")},_getPercent:function(){var t=this.$refs.progressBar.clientWidth-dt;return this.$refs.progress.clientWidth/t}},watch:{percent:function(t){this.setProgressOffset(t)}}},gt=pt,vt=(n("8208"),Object(v["a"])(gt,st,rt,!1,null,"198bf0ef",null)),mt=vt.exports;function yt(t,e){return $()({url:"".concat(N,"/song/url?id=").concat(t,"&cid=").concat(e,"&needPic=1")})}var bt={sequence:0,loop:1,random:2};function wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(n),!0).forEach((function(e){Object(h["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ct={components:{MusicAnimation:it,ProgressBar:mt},computed:_t({},Object(b["c"])(["fullScreen","currentSong","playing","playlist","currentIndex","mode","searchBoxFocue"]),{percent:function(){return this.currentTime/this.duration}}),data:function(){return{songReady:!1,currentTime:0,radius:32,currentLyric:null,currentLineNum:0,currentShow:"cd",playingLyric:"",isPureMusic:!1,pureMusicLyric:"",duration:""}},watch:{currentSong:function(t,e){var n=this;t.id!==e.id&&(this.songReady=!1,yt(t.id,t.cid).then((function(t){n.currentSong.image||(n.currentSong.image=t.data.data.pic),n.currentSong.url=t.data.data["320k"],n.$refs.audio.src=n.currentSong.url,n.$refs.audio.play(),clearTimeout(n.timer),n.timer=setTimeout((function(){n.songReady=!0}),5e3)})))}},methods:_t({open:function(){this.SET_FULLSCREEN(!0)},back:function(){this.SET_FULLSCREEN(!1)},ready:function(){clearTimeout(this.timer),this.songReady=!0,this.duration=this.$refs.audio.duration},_pad:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t.toString().length;while(n<e)t="0"+t,n++;return t},format:function(t){t|=0;var e=t/60|0,n=this._pad(t%60);return"".concat(e,":").concat(n)},updateTime:function(t){this.currentTime=t.target.currentTime},onProgressBarChanging:function(t){this.songReady&&(this.currentTime=this.$refs.audio.duration*t)},onProgressBarChange:function(t){if(this.songReady){var e=this.$refs.audio.duration*t;this.currentTime=e,this.$refs.audio.currentTime=e}},togglePlaying:function(t){this.songReady&&(t?this.$refs.audio.play():this.$refs.audio.pause(),this.SET_PLAYING_STATE(t))},next:function(){if(this.songReady)if(1===this.playlist.length)this.loop();else{var t=this.currentIndex+1;t===this.playlist.length&&(t=0),this.SET_CURRENT_INDEX(t),this.playing||this.togglePlaying(!0)}},prev:function(){if(this.songReady)if(1===this.playlist.length);else{var t=this.currentIndex-1;-1===t&&(t=this.playlist.length-1),this.SET_CURRENT_INDEX(t),this.playing||this.togglePlaying(!0)}},loop:function(){this.$refs.audio.currentTime=0,this.$refs.audio.play(),this.SET_PLAYING_STATE(!0)},error:function(){clearTimeout(this.timer),this.songReady=!0},paused:function(){},end:function(){this.currentTime=0,this.mode===bt.loop?this.loop():this.next()}},Object(b["d"])({SET_FULLSCREEN:"SET_FULLSCREEN",SET_PLAYING_STATE:"SET_PLAYING_STATE",SET_CURRENT_INDEX:"SET_CURRENT_INDEX",SET_PLAY_MODE:"SET_PLAY_MODE"}))},Ot=Ct,St=(n("42a4"),Object(v["a"])(Ot,q,G,!1,null,"42593960",null)),xt=St.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("router-link",{staticClass:"nav-item",attrs:{to:"/home",tag:"div"}},[n("i",{staticClass:"iconfont iconshouye"}),n("span",[t._v(" 首页 ")])]),n("router-link",{staticClass:"nav-item",attrs:{to:"/singer",tag:"div"}},[n("i",{staticClass:"iconfont iconliebiao1"}),n("span",[t._v(" 歌手 ")])]),n("router-link",{staticClass:"nav-item",attrs:{to:"/mv",tag:"div"}},[n("i",{staticClass:"iconfont iconMV"}),n("span",[t._v(" MV ")])]),n("router-link",{staticClass:"nav-item",attrs:{to:"/my",tag:"div"}},[n("i",{staticClass:"iconfont iconwodedangxuan"}),n("span",[t._v(" 我的 ")])])],1)},Pt=[],Et={},Tt=Et,It=(n("92b7"),Object(v["a"])(Tt,jt,Pt,!1,null,"458e268a",null)),Lt=It.exports,kt={components:{Header:W,Player:xt,Nav:Lt}},$t=kt,Nt=Object(v["a"])($t,a,o,!1,null,null,null),Rt=Nt.exports,At=n("8c4f"),Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"home-warrper"},[n("Scroll",{ref:"scroll",staticClass:"recommend-content"},[n("div",[n("div",{staticClass:"banner"},[n("Slider",[n("div",{staticClass:"banner-item"},[n("img",{staticClass:"needsclick",attrs:{src:"http://y.gtimg.cn/music/common/upload/MUSIC_FOCUS/1965101.jpg",alt:"",srcset:""}})]),n("div",{staticClass:"banner-item"},[n("img",{staticClass:"needsclick",attrs:{src:"http://y.gtimg.cn/music/common/upload/MUSIC_FOCUS/1958924.jpg",alt:"",srcset:""}})]),n("div",{staticClass:"banner-item"},[n("img",{staticClass:"needsclick",attrs:{src:"http://y.gtimg.cn/music/common/upload/MUSIC_FOCUS/1958238.jpg",alt:"",srcset:""}})])])],1),n("div",{staticClass:"newSongs"},[n("div",{staticClass:"new-title"},[t._v(" 推荐歌单 ")]),n("ul",{staticClass:"new-list"},t._l(t.songList,(function(e){return n("li",{key:e.id,on:{click:function(n){return t.navDisc(e)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}]}),n("h3",{staticClass:"item-title"},[t._v(t._s(e.name))]),n("p",{staticClass:"item-desc"},[t._v(t._s(e.intro.name))])])})),0)]),n("div",{staticClass:"newSongs"},[n("div",{staticClass:"new-title"},[t._v(" 新歌首发 ")]),n("ul",{staticClass:"new-list"},t._l(t.newSongList,(function(e,i){return n("li",{key:e.cid,on:{click:function(e){return t.selectSongItem(i)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrlBig,expression:"item.picUrlBig"}],on:{load:function(e){return t.loadImg(t.newSongList,i)}}}),n("h3",{staticClass:"item-title"},[t._v(t._s(e.musicName))]),n("p",{staticClass:"item-desc"},[t._v(t._s(e.singerName))])])})),0)])])])],1),n("router-view")],1)},Bt=[],Dt=(n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"slider",staticClass:"slider"},[n("div",{ref:"sliderGroup",staticClass:"slider-group"},[t._t("default")],2),n("div",{staticClass:"dots"},t._l(t.dots,(function(e,i){return n("div",{key:i,staticClass:"dot",class:t.currentPageIndex===i?"active":""})})),0)])}),Mt=[],Yt=n("1fba"),Ft={data:function(){return{dots:[],currentPageIndex:0}},props:{loop:{type:Boolean,default:!1},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:5e3}},mounted:function(){var t=this;setTimeout((function(){t._setSliderWidth(),t._initDots(),t._initSlider(),t.autoPlay&&t._play()}),20),window.addEventListener("resize",(function(){t.slider&&(t._setSliderWidth(!0),t.slider.refresh())}))},methods:{_setSliderWidth:function(t){this.children=this.$refs.sliderGroup.children;for(var e=0,n=this.$refs.slider.clientWidth,i=0;i<this.children.length;i++){var s=this.children[i];ot(s,"slider-item"),s.style.width=n+"px",e+=n}this.loop&&!t&&(e+=2*n),this.$refs.sliderGroup.style.width=e+"px"},_initDots:function(){this.dots=new Array(this.children.length)},_initSlider:function(){var t=this;this.slider=new Yt["a"](this.$refs.slider,{scrollX:!0,scrollY:!1,momentum:!1,snap:!0,snapLoop:this.loop,snapThreshold:.3,snapSpeed:400}),this.slider.on("scrollEnd",(function(){var e=t.slider.getCurrentPage().pageX;t.loop&&(e-=1),t.currentPageIndex=e,t.autoPlay&&(clearTimeout(t.timer),t._play())}))},_play:function(){var t=this,e=this.currentPageIndex+1;this.loop&&(e+=1),this.timer=setTimeout((function(){t.slider.goToPage(e,0,400)}),this.interval)}},destroyed:function(){clearTimeout(this.timer)}},Vt=Ft,Ht=(n("2a3c"),Object(v["a"])(Vt,Dt,Mt,!1,null,"4888e778",null)),zt=Ht.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper"},[t._t("default")],2)},Wt=[],qt={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},data:{type:Array,default:null},listenScroll:{type:Boolean,default:!1},scrollEnd:{type:Boolean,default:!1},pullingUp:{type:Boolean,default:!1}},mounted:function(){var t=this;setTimeout((function(){t._initScroll()}),20)},methods:{_initScroll:function(){if(this.$refs.wrapper){if(this.scroll=new Yt["a"](this.$refs.wrapper,{probeType:this.probeType,click:this.click,pullUpLoad:this.pullingUp}),this.listenScroll){var t=this;this.scroll.on("scroll",(function(e){t.$emit("scroll",e)}))}if(this.scrollEnd){var e=this;this.scroll.on("scrollEnd",(function(t){e.$emit("scrollEnd",t)}))}if(this.pullingUp){var n=this;this.scroll.on("pullingUp",(function(){n.$emit("pullingUp")}))}}},enable:function(){this.scroll&&this.scroll.enable()},disable:function(){this.scroll&&this.scroll.disable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)},finishPullUp:function(){this.scroll&&this.scroll.finishPullUp()}},watch:{data:function(){var t=this;setTimeout((function(){t.refresh()}),20)}}},Gt=qt,Jt=Object(v["a"])(Gt,Xt,Wt,!1,null,"1138d64a",null),Qt=Jt.exports;function Zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach((function(e){Object(h["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var te={components:{Slider:zt,Scroll:Qt},created:function(){this.getBaner(),this._getNewSong(),this.getSongList()},computed:{},activated:function(){},data:function(){return{newSongList:[],songList:[]}},methods:Kt({getBaner:function(){},selectSongItem:function(t){var e=[];this.newSongList.forEach((function(t){e.push(S(t.musicId,t.cid,t.singerName,t.musicName,t.picUrlBig,null))})),this.selectPlay({list:e,index:t})},_getNewSong:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R();case 3:e=t.sent,n=e.data.data.total.list.splice(0,15).map((function(t){return t.music})),this.newSongList=n,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getSongList:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A();case 3:e=t.sent,this.songList=e.data.data.list,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),navDisc:function(t){this.SET_DISC(t),this.$router.push({path:"/home/".concat(t.id)})},loadImg:function(t,e){var n=this;e===t.length-1&&(this.checkLoaded||(setTimeout((function(){n.$refs.scroll.refresh()}),20),this.checkLoaded=!0))}},Object(b["d"])({SET_DISC:"SET_DISC",SET_FULLSCREEN:"SET_FULLSCREEN"}),{},Object(b["b"])({selectPlay:"selectPlay"}))},ee=te,ne=(n("cbd4"),Object(v["a"])(ee,Ut,Bt,!1,null,"26b1ec3c",null)),ie=ne.exports,se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{appear:"",name:"slide"}},[n("music-list",{attrs:{"bg-image":t.bgImage,discInfo:t.discInfo}})],1)},re=[],ae=(n("caad"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"music-list"},[n("div",{staticClass:"nav"},[n("div",{staticClass:"back",on:{click:t.back}},[t._v("<")]),n("div",{staticClass:"nav-text"},[t._v("歌单")])]),n("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[n("div",{staticClass:"filter"},[n("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.discInfo.name,expression:"discInfo.name !== ''"}],ref:"filterBox",staticClass:"filter-box"},[n("div",{staticClass:"song-des-box"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:t.discInfo.picUrl,alt:"",srcset:""}})]),n("div",{staticClass:"text-box"},[n("h2",[t._v(t._s(t.discInfo.name))]),n("h3",[t._v(t._s(t.discInfo.creator.name)+" · 创建")]),n("p",[t._v("播放数 · "+t._s(t.discInfo.playCount))])])])])])]),n("scroll",{ref:"list",staticClass:"list",attrs:{"listen-scroll":!0,"probe-type":3},on:{scroll:t.scroll}},[n("div",{staticClass:"song-box"},[n("div",{staticClass:"song-title"},[n("i"),t._v("播放全部")]),n("div",{staticClass:"song-list"},[n("SongList",{attrs:{list:t.discInfo.list}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.discInfo.list.length,expression:"!discInfo.list.length"}],staticClass:"loading-container"},[n("Loading",{attrs:{playerIconColor:"red"}})],1)])])],1)}),oe=[];function ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(n),!0).forEach((function(e){Object(h["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ue=50,he={props:{bgImage:{type:String,default:""},discInfo:{type:Object,default:function(){return{}}}},data:function(){return{scrollY:0}},computed:{bgStyle:function(){return"background-image:url(".concat(this.bgImage,")")}},created:function(){this.SET_PLAY_ICON_COLOR("white")},mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.minTransalteY=-this.imageHeight+ue,this.$refs.list.$el.style.top="".concat(this.imageHeight,"px")},activated:function(){this.SET_PLAY_ICON_COLOR("white")},destroyed:function(){this.SET_PLAY_ICON_COLOR("black")},methods:le({back:function(){this.$router.back()},scroll:function(t){this.scrollY=t.y}},Object(b["d"])({SET_PLAY_ICON_COLOR:"SET_PLAY_ICON_COLOR"})),watch:{scrollY:function(t){var e=0;t<this.minTransalteY?(e=10,this.$refs.bgImage.style.paddingTop=0,this.$refs.bgImage.style.height="".concat(ue,"px"),this.$refs.filterBox.style.display="none"):(this.$refs.bgImage.style.paddingTop="70%",this.$refs.bgImage.style.height=0,this.$refs.filterBox.style.display=""),this.$refs.bgImage.style.zIndex=e}},components:{Scroll:Qt,SongList:L,Loading:y}},de=he,fe=(n("acae"),Object(v["a"])(de,ae,oe,!1,null,"3828b746",null)),pe=fe.exports;function ge(t){return $()({url:"".concat(N,"/playlist?id=").concat(t)})}function ve(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(n),!0).forEach((function(e){Object(h["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ye={computed:me({bgImage:function(){return this.disc.picUrl}},Object(b["c"])(["disc"])),data:function(){return{discInfo:{picUrl:"",name:"",creator:{name:""},playCount:"",list:[]}}},created:function(){this._getSongList(this.$route.id)},methods:{_getSongList:function(){var t=this;this.disc.id?ge(this.disc.id).then((function(e){t.discInfo=e.data.data})).catch((function(e){e.message.includes("timeout")&&(alert("这个歌单似乎出了一点问题，换个试试趴~"),t.$router.back())})):this.$router.push("/home")}},components:{MusicList:pe}},be=ye,we=(n("e150"),Object(v["a"])(be,se,re,!1,null,"26a3a459",null)),_e=we.exports,Ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mv"},[n("Mv",{attrs:{list:t.mv}})],1)},Oe=[],Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Scroll",{ref:"scroll",staticClass:"list",attrs:{data:t.list,"probe-type":3}},[n("div",[n("ul",{staticClass:"mv-list"},t._l(t.list,(function(e){return n("li",[n("MvItem",{ref:"video"+e.aid,refInFor:!0,attrs:{data:e},on:{setVideo:t.setVideo}})],1)})),0)])])},xe=[],je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item"},[n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.data.pic,expression:"data.pic",arg:"background-image"}],staticClass:"img-wrapper",on:{click:t.selectPlay}},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.showPlayIcon,expression:"showPlayIcon"}],staticClass:" playIcon iconfont iconziyuan"}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],staticClass:"loadng"},[n("Loading",{attrs:{playerIconColor:"red"}})],1),n("video",{directives:[{name:"show",rawName:"v-show",value:t.showVideo,expression:"showVideo"}],ref:"video",staticClass:"video",attrs:{"webkit-playsinline":"",playsinline:"","x5-playsinline":"","x-webkit-airplay":"allow"},on:{click:function(e){return e.stopPropagation(),t.togglePlay(e)},playing:t.startPlay,waiting:t.waiting}})]),n("div",{staticClass:"title"},[t._v(" "+t._s(t.data.title)+" ")]),n("div",{staticClass:"info-box"},[n("div",{staticClass:"info-l"},[n("div",{staticClass:"avatar"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.data.owner.face,expression:"data.owner.face"}],attrs:{alt:"",srcset:""}})]),n("div",{staticClass:"name"},[t._v(" "+t._s(t.data.owner.name)+" ")])]),n("div",{staticClass:"info-r"},[n("div",{staticClass:"item",staticStyle:{"margin-right":"20px"}},[n("i",{staticClass:"iconfont iconxihuan"}),n("span",[t._v(t._s(t.data.stat.like))])]),n("div",{staticClass:"item",staticStyle:{"margin-right":"20px"}},[n("i",{staticClass:"iconfont iconpinglun"}),n("span",[t._v(t._s(t.data.stat.reply))])])])])])},Pe=[];function Ee(t){return $()({url:"".concat(N,"/mv")})}function Te(t,e){return $()({url:"".concat(N,"/video?aid=").concat(t,"&&cid=").concat(e)})}var Ie={props:{data:{type:Object,default:function(){return{}}},posY:{}},data:function(){return{showVideo:!1,showLoading:!1,showPlayIcon:!0}},components:{Loading:y},created:function(){},watch:{},methods:{hideVideo:function(){console.log("执行关闭"),this.$refs.video.src="",this.$refs.video.pause(),this.showVideo=!1,this.showLoading=!1,this.showPlayIcon=!0},selectPlay:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.$emit("setVideo",this.data.aid),this.showPlayIcon=!1,this.showVideo=!0,this.showLoading=!0,t.next=7,Te(this.data.aid,this.data.cid);case 7:e=t.sent,this.showVideo&&(this.$refs.video.src=e.data.url,this.$refs.video.play()),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(){return t.apply(this,arguments)}return e}(),waiting:function(){this.showLoading=!0},startPlay:function(){this.showLoading=!1},togglePlay:function(){this.$refs.video.paused?(this.showPlayIcon=!1,this.$refs.video.play()):(this.showPlayIcon=!0,this.$refs.video.pause())}}},Le=Ie,ke=(n("58c3"),Object(v["a"])(Le,je,Pe,!1,null,"292be6aa",null)),$e=ke.exports,Ne={props:{list:{}},components:{Scroll:Qt,MvItem:$e},data:function(){return{nowAid:""}},watch:{nowAid:function(t,e){if(e){var n="video"+e;this.$refs[n][0].hideVideo()}}},created:function(){},methods:{setVideo:function(t){this.nowAid=t}}},Re=Ne,Ae=(n("81a3"),Object(v["a"])(Re,Se,xe,!1,null,"b13ff082",null)),Ue=Ae.exports,Be={data:function(){return{mv:[]}},created:function(){this.getMv()},methods:{getMv:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ee();case 2:e=t.sent,n=e.data.split("jqueryCallback_bili_7203004195181286(")[1],this.mv=JSON.parse(n.substr(0,n.length-1)).data.archives;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},components:{Mv:Ue}},De=Be,Me=(n("fd83"),Object(v["a"])(De,Ce,Oe,!1,null,"4fd26f2c",null)),Ye=Me.exports,Fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mv"},[t._v(" 开发中ing~(*^_^*) ")])},Ve=[],He={},ze=He,Xe=(n("9013"),Object(v["a"])(ze,Fe,Ve,!1,null,"4b5058ec",null)),We=Xe.exports,qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"singer"},[n("ListView",{ref:"list",attrs:{data:t.singers},on:{selct:t.selctSinger}})],1),n("router-view")],1)},Ge=[],Je=n("f2e8"),Qe=n.n(Je),Ze=function t(e){var n=e.id,i=e.name;Object(C["a"])(this,t),this.id=n,this.name=i,this.avatar="https://y.gtimg.cn/music/photo_new/T001R300x300M000".concat(n,".jpg?max_age=2592000")},Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll",{ref:"listview",staticClass:"listview",attrs:{"listen-scroll":t.listenScroll,"probe-type":t.probeType,data:t.data},on:{scroll:t.scroll}},[n("ul",t._l(t.data,(function(e){return n("li",{ref:"listGroup",refInFor:!0,staticClass:"list-group"},[n("h2",{staticClass:"list-group-title"},[t._v(t._s(e.title))]),n("uL",t._l(e.items,(function(e){return n("li",{staticClass:"list-group-item",on:{click:function(n){return t.selectItem(e)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"item.avatar"}],staticClass:"avatar"}),n("span",{staticClass:"name"},[t._v(t._s(e.name))])])})),0)],1)})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showShortcut,expression:"showShortcut"}],staticClass:"list-shortcut",on:{touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.onShortcutTouchStart(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.onShortcutTouchMove(e)},touchend:function(t){t.stopPropagation()}}},[n("ul",t._l(t.shortcutList,(function(e,i){return n("li",{staticClass:"item",class:{current:t.currentIndex===i},attrs:{"data-index":i}},[t._v(t._s(e)+" ")])})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.fixedTitle,expression:"fixedTitle"}],ref:"fixed",staticClass:"list-fixed"},[n("div",{staticClass:"fixed-title"},[t._v(t._s(t.fixedTitle)+" ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.data.length,expression:"!data.length"}],staticClass:"loading-container"},[n("loading")],1)])},tn=[],en=(n("c7cd"),30),nn=18,sn={props:{data:{type:Array,default:function(){return[]}}},computed:{shortcutList:function(){return this.data.map((function(t){return t.title.substr(0,1)}))},fixedTitle:function(){return this.scrollY>0?"":this.data[this.currentIndex]?this.data[this.currentIndex].title:""}},data:function(){return{scrollY:-1,currentIndex:0,diff:-1,showShortcut:!1}},created:function(){this.probeType=3,this.listenScroll=!0,this.touch={},this.listHeight=[]},activated:function(){this.refresh()},methods:{selectItem:function(t){this.$emit("selct",t)},onShortcutTouchStart:function(t){var e=ct(t.target,"index"),n=t.touches[0];this.touch.y1=n.pageY,this.touch.anchorIndex=e,this._scrollTo(e)},onShortcutTouchMove:function(t){var e=t.touches[0];this.touch.y2=e.pageY;var n=(this.touch.y2-this.touch.y1)/nn|0,i=parseInt(this.touch.anchorIndex)+n;this._scrollTo(i)},refresh:function(){this.$refs.listview.refresh()},scroll:function(t){this.scrollY=t.y,this.showShortcut=!0},_calculateHeight:function(){this.listHeight=[];var t=this.$refs.listGroup,e=0;this.listHeight.push(e);for(var n=0;n<t.length;n++){var i=t[n];e+=i.clientHeight,this.listHeight.push(e)}},_scrollTo:function(t){(t||0===t)&&(t<0?t=0:t>this.listHeight.length-2&&(t=this.listHeight.length-2),this.scrollY=-this.listHeight[t],this.$refs.listview.scrollToElement(this.$refs.listGroup[t],500))}},watch:{data:function(){var t=this;setTimeout((function(){t._calculateHeight()}),20)},scrollY:function(t){var e=this.listHeight;if(t>0)this.currentIndex=0;else{for(var n=0;n<e.length-1;n++){var i=e[n],s=e[n+1];if(-t>=i&&-t<s)return this.currentIndex=n,void(this.diff=s+t)}this.currentIndex=e.length-2}},diff:function(t){var e=t>0&&t<en?t-en:0;this.fixedTop!==e&&(this.fixedTop=e,this.$refs.fixed.style.transform="translate3d(0,".concat(e,"px,0)"))}},components:{Scroll:Qt,Loading:y}},rn=sn,an=(n("3940"),Object(v["a"])(rn,Ke,tn,!1,null,"110e03d0",null)),on=an.exports,cn=10,ln="热门",un={created:function(){this.getSingersList()},data:function(){return{singers:[]}},components:{ListView:on},methods:{getSingersList:function(){var t=this;Qe()("https://c.y.qq.com/v8/fcg-bin/v8.fcg?g_tk=1928093487&inCharset=utf-8&outCharset=utf-8&notice=0&format=jsonp&channel=singer&page=list&key=all_all_all&pagesize=100&pagenum=1&hostUin=0&needNewCode=0&platform=yqq&jsonpCallback=jp0",{prefix:"jp"},(function(e,n){e&&console.log(e),t.singers=t._normalizeSinger(n.data.list)}))},_normalizeSinger:function(t){var e={hot:{title:ln,items:[]}};t.forEach((function(t,n){n<cn&&e.hot.items.push(new Ze({name:t.Fsinger_name,id:t.Fsinger_mid}));var i=t.Findex;e[i]||(e[i]={title:i,items:[]}),e[i].items.push(new Ze({name:t.Fsinger_name,id:t.Fsinger_mid}))}));var n=[],i=[];for(var s in e){var r=e[s];r.title.match(/[a-zA-Z]/)?n.push(r):r.title===ln&&i.push(r)}return n.sort((function(t,e){if(t.title.charCodeAt(0)-e.title.charCodeAt(0)>0)return!0})),i.concat(n)},selctSinger:function(t){console.log(t),this.$router.push({name:"singerHome",params:t})}}},hn=un,dn=(n("5354"),Object(v["a"])(hn,qe,Ge,!1,null,"58bbb9f1",null)),fn=dn.exports,pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{appear:"",name:"slide"}},[n("singer-music-list",{ref:"singerMusicList",attrs:{info:t.info,list:t.list},on:{pullingUp:t.pullingUp}})],1)},gn=[],vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"music-list"},[n("div",{staticClass:"nav"},[n("div",{staticClass:"back",on:{click:t.back}},[t._v("<")]),n("div",{staticClass:"nav-text"},[t._v(t._s(t.info.name))])]),n("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[n("div",{staticClass:"filter"},[n("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.info.name,expression:"info.name !== ''"}],ref:"filterBox",staticClass:"filter-box"},[n("div",{staticClass:"song-des-box"})])])]),n("scroll",{ref:"list",staticClass:"list",attrs:{data:t.list,"listen-scroll":!0,"probe-type":3,pullingUp:!0},on:{scroll:t.scroll,pullingUp:t.pullingUp}},[n("div",{staticClass:"song-box"},[n("div",{staticClass:"song-title"},[n("i"),t._v("播放全部")]),n("div",{staticClass:"song-list"},[n("SongList",{attrs:{list:t.list}})],1),n("div",{staticClass:"loading-container"},[n("Loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],attrs:{playerIconColor:"red"}}),n("p",{directives:[{name:"show",rawName:"v-show",value:t.noMore,expression:"noMore"}],staticClass:"no-more"},[t._v("没有更多了...")])],1)])])],1)},mn=[];function yn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yn(Object(n),!0).forEach((function(e){Object(h["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var wn=50,_n={props:{info:{type:Object,default:function(){return{}}},list:{typeo:Object,default:function(){return[]}}},data:function(){return{scrollY:0,showLoading:!0,page:1,noMore:!1}},computed:{bgStyle:function(){return"background-image:url(".concat(this.info.avatar,")")}},created:function(){this.SET_PLAY_ICON_COLOR("white")},mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.minTransalteY=-this.imageHeight+wn,this.$refs.list.$el.style.top="".concat(this.imageHeight,"px")},activated:function(){this.SET_PLAY_ICON_COLOR("white")},deactivated:function(){this.SET_PLAY_ICON_COLOR("black")},destroyed:function(){this.SET_PLAY_ICON_COLOR("black")},methods:bn({back:function(){this.$router.back()},pullingUp:function(){this.showLoading=!0,this.$emit("pullingUp",this.page)},scroll:function(t){this.scrollY=t.y},finishPullUp:function(){this.page=this.page+1,this.$refs.list.finishPullUp()},noMoreText:function(){this.showLoading=!1,this.noMore=!0}},Object(b["d"])({SET_PLAY_ICON_COLOR:"SET_PLAY_ICON_COLOR"})),watch:{scrollY:function(t){var e=0;t<this.minTransalteY?(e=10,this.$refs.bgImage.style.paddingTop=0,this.$refs.bgImage.style.height="".concat(wn,"px"),this.$refs.filterBox.style.display="none"):(this.$refs.bgImage.style.paddingTop="70%",this.$refs.bgImage.style.height=0,this.$refs.filterBox.style.display=""),this.$refs.bgImage.style.zIndex=e},list:function(){this.finishPullUp()}},components:{Scroll:Qt,SongList:L,Loading:y}},Cn=_n,On=(n("c663"),Object(v["a"])(Cn,vn,mn,!1,null,"5ed60a37",null)),Sn=On.exports;function xn(t,e){return $()({url:"".concat(N,"/search?keyword=").concat(t,"&&pageNo=").concat(e)})}var jn={data:function(){return{info:{},list:[],total:-1}},computed:{totalPage:function(){return Math.ceil(this.total/20)}},created:function(){this.info=this.$route.params,this.list=[],this._getSongList(1)},methods:{_getSongList:function(t){var e=this;this.$route.params.name?xn(this.info.name,t).then((function(t){100===t.data.result&&(e.list=e.list.concat(t.data.data.list),e.total=t.data.data.total)})).catch((function(t){t.message.includes("timeout")})):this.$router.push("/singer")},_getSongListMore:function(t){var e=this,n=this;t>this.totalPage?n.$refs.singerMusicList.noMoreText():xn(this.info.name,t).then((function(t){100===t.data.result&&(e.list=e.list.concat(t.data.data.list),e.total=t.data.data.total)})).catch((function(t){t.message.includes("timeout")}))},pullingUp:function(t){this._getSongListMore(Number(t)+1)}},components:{SingerMusicList:Sn}},Pn=jn,En=(n("4abe"),Object(v["a"])(Pn,pn,gn,!1,null,"389d8529",null)),Tn=En.exports;r["a"].use(At["a"]);var In=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:ie,children:[{path:":id",component:_e}]},{path:"/mv",name:"mv",component:Ye},{path:"/my",name:"my",component:We},{path:"/singer",component:fn,children:[{path:"/singer/singerHome",name:"singerHome",component:Tn}]}],Ln=new At["a"]({routes:In}),kn=Ln,$n={disc:{},playerIconColor:"black",fullScreen:!1,currentIndex:-1,playing:!1,playlist:[],sequenceList:[],mode:bt.sequence,searchBoxFocue:!1},Nn=$n,Rn=(n("c740"),function(t,e){var n=t.commit,i=t.state,s=e.list,r=e.index;if(n("SET_SEQUENCE_LIST",s),i.mode===bt.random){var a=M(s);n("SET_PLAYLIST",a),r=An(a,s[r])}else n("SET_PLAYLIST",s);n("SET_CURRENT_INDEX",r),n("SET_FULLSCREEN",!0),n("SET_PLAYING_STATE",!0)});function An(t,e){return t.findIndex((function(t){return t.id===e.id}))}var Un=function(t){return t.disc},Bn=function(t){return t.playerIconColor},Dn=function(t){return t.fullScreen},Mn=function(t){return t.currentIndex},Yn=function(t){return t.playlist[t.currentIndex]||{}},Fn=function(t){return t.playing},Vn=function(t){return t.playlist},Hn=function(t){return t.mode},zn=function(t){return t.searchBoxFocue},Xn={SET_DISC:function(t,e){t.disc=e},SET_PLAY_ICON_COLOR:function(t,e){t.playerIconColor=e},SET_FULLSCREEN:function(t,e){t.fullScreen=e},SET_CURRENT_INDEX:function(t,e){t.currentIndex=e},SET_SEQUENCE_LIST:function(t,e){t.sequenceList=e},SET_PLAY_MODE:function(t,e){t.mode=e},SET_PLAYLIST:function(t,e){t.playlist=e},SET_PLAYING_STATE:function(t,e){t.playing=e},SET_SEARCHBOX_FOCUS:function(t,e){t.searchBoxFocue=e}},Wn=Xn;r["a"].use(b["a"]);var qn=new b["a"].Store({state:Nn,mutations:Wn,actions:i,getters:s}),Gn=n("caf9"),Jn=n("9483");Object(Jn["a"])("".concat("/music/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("f867");r["a"].config.productionTip=!1,r["a"].use(Gn["a"],{loading:n("710d"),error:"https://pcache.cmam.migu.cn/prod/cmam_music/storage_1/albummaterial/11004/000002/0127/7283/1100000000255111663/cffb35b03da540a78df6fc5dd50fd0d8_1372844695.jpg"}),new r["a"]({router:kn,store:qn,render:function(t){return t(Rt)}}).$mount("#app")},"58c3":function(t,e,n){"use strict";var i=n("1863"),s=n.n(i);s.a},"5a78":function(t,e,n){},"5ccb":function(t,e,n){},"64f4":function(t,e,n){},"710d":function(t,e,n){t.exports=n.p+"static/img/default.9b89fcfd.png"},"722d":function(t,e,n){},7688:function(t,e,n){"use strict";var i=n("5a78"),s=n.n(i);s.a},"7d70":function(t,e,n){},"81a3":function(t,e,n){"use strict";var i=n("30b6"),s=n.n(i);s.a},8208:function(t,e,n){"use strict";var i=n("64f4"),s=n.n(i);s.a},8786:function(t,e,n){},9013:function(t,e,n){"use strict";var i=n("c418"),s=n.n(i);s.a},"92b7":function(t,e,n){"use strict";var i=n("7d70"),s=n.n(i);s.a},a2d4:function(t,e,n){},acae:function(t,e,n){"use strict";var i=n("fe4d"),s=n.n(i);s.a},b559:function(t,e,n){"use strict";var i=n("d77e"),s=n.n(i);s.a},bbf7:function(t,e,n){},c2cd:function(t,e,n){"use strict";var i=n("1d13"),s=n.n(i);s.a},c418:function(t,e,n){},c663:function(t,e,n){"use strict";var i=n("d269"),s=n.n(i);s.a},c6a8:function(t,e,n){"use strict";var i=n("8786"),s=n.n(i);s.a},cbd4:function(t,e,n){"use strict";var i=n("e48c"),s=n.n(i);s.a},d14e:function(t,e,n){},d269:function(t,e,n){},d77e:function(t,e,n){},e150:function(t,e,n){"use strict";var i=n("d14e"),s=n.n(i);s.a},e48c:function(t,e,n){},f867:function(t,e,n){},fd83:function(t,e,n){"use strict";var i=n("a2d4"),s=n.n(i);s.a},fe4d:function(t,e,n){}});
//# sourceMappingURL=app.7d2f8a8e.js.map